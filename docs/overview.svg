<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="420mm"
   height="297mm"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="overview.svg"
   viewBox="0 0 420 297">
  <defs
     id="defs4">
    <marker
       inkscape:isstock="true"
       style="overflow:visible;"
       id="marker4451"
       refX="0.0"
       refY="0.0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         transform="scale(0.8) rotate(180) translate(12.5,0)"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         id="path4453" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker4808"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path4810"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.8) rotate(180) translate(12.5,0)" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible;"
       id="marker4736"
       refX="0.0"
       refY="0.0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="scale(0.8) rotate(180) translate(12.5,0)"
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         id="path4738" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker4688"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         inkscape:connector-curvature="0"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#999999;fill-opacity:1;fill-rule:evenodd;stroke:#999999;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path4690" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker5227"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path5229"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.8) rotate(180) translate(12.5,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker5201"
       style="overflow:visible;"
       inkscape:isstock="true">
      <path
         id="path5203"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.8) rotate(180) translate(12.5,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="marker5139"
       style="overflow:visible;"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path4886"
         d="M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "
         style="fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"
         transform="scale(0.8) rotate(180) translate(12.5,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker7427"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path7429"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker6265"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path6267"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker6177"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path6179"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker6079"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path6081"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker5991"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path5993"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5909"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path5911"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker5833"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path5835"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5763"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path5765"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker5699"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path5701"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="marker5641"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path5643"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:isstock="true"
       style="overflow:visible"
       id="marker5589"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lend"
       inkscape:collect="always">
      <path
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         id="path5591"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true"
       inkscape:collect="always">
      <path
         id="path5189"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path5189-7"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-7"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path5189-0"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend-0"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path5189-4"
         d="M 0,0 5,-5 -12.5,0 5,5 0,0 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8"
     inkscape:cx="1257.9604"
     inkscape:cy="767.20168"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1918"
     inkscape:window-height="1059"
     inkscape:window-x="1920"
     inkscape:window-y="19"
     inkscape:window-maximized="1"
     inkscape:snap-nodes="true"
     inkscape:object-nodes="true"
     showguides="true"
     inkscape:guide-bbox="true"
     units="mm"
     inkscape:snap-text-baseline="true">
    <inkscape:grid
       type="xygrid"
       id="grid2985"
       empspacing="5"
       visible="true"
       enabled="true"
       snapvisiblegridlinesonly="true"
       units="mm"
       spacingx="2mm"
       spacingy="2mm" />
    <sodipodi:guide
       orientation="0,1"
       position="40,20"
       id="guide3784" />
    <sodipodi:guide
       orientation="0,1"
       position="1445.6693,1013.3858"
       id="guide3786" />
    <sodipodi:guide
       orientation="1,0"
       position="20,20"
       id="guide3788" />
    <sodipodi:guide
       position="400,10"
       orientation="1,0"
       id="guide4845" />
    <sodipodi:guide
       position="360,280.00001"
       orientation="0,1"
       id="guide4847" />
  </sodipodi:namedview>
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(0,4.9283155e-5)">
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="20"
       y="100.99995"
       id="text4903"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4905"
         x="20"
         y="100.99995">bitbake</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="40.919167"
       y="212.99698"
       id="text4907"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="40.919167"
         y="212.99698"
         id="tspan5042" /></text>
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="176"
       y="96.999947"
       id="text4911"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4913"
         x="176"
         y="96.999947">Delta Oracle</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="209.86575"
       y="-15.606615"
       id="text4915"
       sodipodi:linespacing="125%"
       transform="matrix(0.7086109,0.70559945,-0.70559945,0.7086109,0,0)"><tspan
         sodipodi:role="line"
         id="tspan4917"
         x="209.86575"
         y="-15.606615">images/targets.json</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="320.72345"
       y="242.54825"
       id="text4927"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4929"
         x="320.72345"
         y="242.54825" /></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4943"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="translate(0.6972668,-0.26427399)"><flowRegion
         id="flowRegion4945"><rect
           id="rect4947"
           width="67.337105"
           height="45.323586"
           x="201.30196"
           y="178.45087"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara4957">Aktualizr downloader checks the streaming merkle hash of the delta before handing it to the installer. The installer must also report the hash of the unpacked image before commiting to boot it.</flowPara><flowPara
         id="flowPara4961">Aktualizr will ask for these for all ECUs, then pull the trigger and deploy them. This process is required to ensure that the image that runs has been signed offline.</flowPara><flowPara
         id="flowPara4959" /></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:4.23333311px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="425.15393"
       y="114.35941"
       id="text4951"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4953"
         x="425.15393"
         y="114.35941">TODO:</tspan><tspan
         sodipodi:role="line"
         x="425.15393"
         y="119.65108"
         id="tspan4955">Think of some names for parts of the architecture</tspan></text>
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="128"
       y="100.99995"
       id="text4963"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4965"
         x="128"
         y="100.99995">Treehub</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4967"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="translate(-9.3372732,-16.488198)"><flowRegion
         id="flowRegion4969"><rect
           id="rect4971"
           width="91.723473"
           height="88.593407"
           x="102.63149"
           y="214.89476"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara4973">There are also two obvious requirements for validating the data as we download it:</flowPara><flowPara
         id="flowPara4975" /><flowPara
         id="flowPara4977"> - The data should be streamed to the installer, because we don't want to buffer it on disk.  Buffering means that extra disk space is available for the update.</flowPara><flowPara
         id="flowPara4979"> - Aktualizr should be responsible for checking the downloaded data against the targets.json metadata. If untrusted data is fed into the delta unpacker, then the parser in the delta unpacker is part of the attack surface for a malicious update.</flowPara><flowPara
         id="flowPara4981" /><flowPara
         id="flowPara4983">Unfortunately these requirements conflict.  One solution would be to change the hashing process into a Merkle hash tree (sending the blocks in pre-order).  The would allow every block of data to be validated before handing it off to the delta-unpacker/installer but only require a small number buffer in Aktualizr.</flowPara></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="436.18387"
       y="139.06149"
       id="text5004"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5006"
         x="436.18387"
         y="139.06149">8pt D<tspan
   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start"
   id="tspan5008">roid San</tspan>s</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="429.78409"
       y="152.26028"
       id="text5010"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5012"
         x="429.78409"
         y="152.26028">13pt Droid Sans</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot5046"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="translate(-12.283203,-75.666618)"><flowRegion
         id="flowRegion5048"><rect
           id="rect5050"
           width="64.91111"
           height="13.707935"
           x="32.283638"
           y="179.85359"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara5054">sota-tools uploads using garage-push</flowPara><flowPara
         id="flowPara5211">targets.json created using UPTANE python tooling and uploaded using and new tool in sota-tools</flowPara></flowRoot>    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="20"
       y="124.99995"
       id="text5058"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5060"
         x="20"
         y="124.99995">AUTOSAR ECU</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot5062"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       transform="translate(-8.1699219,-13.463493)"><flowRegion
         id="flowRegion5064"><rect
           id="rect5066"
           width="55.033333"
           height="41.930157"
           x="28.170849"
           y="141.65126"
           style="color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" /></flowRegion><flowPara
         id="flowPara5068">Image built using arbitary tool, signed using UPTANE python tooling and uploaded using a new tool in sota-tools</flowPara></flowRoot>    <text
       sodipodi:linespacing="125%"
       id="text5086"
       y="120.99995"
       x="126"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       xml:space="preserve"><tspan
         y="120.99995"
         x="126"
         id="tspan5088"
         sodipodi:role="line">Repo Server</tspan></text>
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="199.61916"
       y="171.1114"
       id="text5090"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5092"
         x="199.61916"
         y="171.1114">Aktualizr-Downloader</tspan></text>
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="295.35065"
       y="186.6711"
       id="text5094"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5096"
         x="295.35065"
         y="186.6711">Aktualizr-OSTree-Static-Delta-Installer</tspan></text>
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="293.35507"
       y="170.13605"
       id="text5098"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5100"
         x="293.35507"
         y="170.13605">Aktualizr-ECU-Delta-Installer</tspan></text>
    <text
       sodipodi:linespacing="125%"
       id="text5160"
       y="121.45338"
       x="185.54956"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       xml:space="preserve"><tspan
         y="121.45338"
         x="185.54956"
         id="tspan5162"
         sodipodi:role="line">Director</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28200001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Lend)"
       d="m 82,106.99995 44,-8.000005"
       id="path5164"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.28200001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker5589);color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       d="m 72,130.99995 52,-10"
       id="path5166"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5641)"
       d="m 148,96.999945 c 7.1328,-5.797088 15.2796,-5.595308 24,-2"
       id="path5168"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.28200001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker-end:url(#marker5699);color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       d="m 172,98.999945 c -7.71165,5.280255 -15.7514,5.310965 -24,2.000005"
       id="path5170"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5991);stroke-miterlimit:4;stroke-dasharray:0.28222221,0.56444441;stroke-dashoffset:0"
       d="m 157.03651,116.17615 c 0.40658,-5.8509 4.14045,-10.49188 12.90158,-13.30476"
       id="path5172"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker6079);stroke-miterlimit:4;stroke-dasharray:0.28222221,0.56444441;stroke-dashoffset:0"
       d="m 176.38889,103.27457 c -0.66152,10.74757 -8.24684,12.8404 -14.71588,16.32857"
       id="path5174"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot5152"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.52229896,0.85276245,-0.85276245,0.52229896,171.31242,-142.0679)"><flowRegion
         id="flowRegion5154"><rect
           id="rect5156"
           width="51.672127"
           height="24.660069"
           x="238.18665"
           y="120.66676"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara5158">The hash reported the manifest PUT must match the hash in targets.json</flowPara></flowRoot>    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5909)"
       d="m 226.11004,164.94002 c -14.86299,-9.0887 -20.83437,-22.76662 -23.98889,-37.89841"
       id="path5176"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="223.4156"
       y="-125.07912"
       id="text4919"
       sodipodi:linespacing="125%"
       transform="matrix(0.50569338,0.86271328,-0.86271328,0.50569338,0,0)"><tspan
         sodipodi:role="line"
         id="tspan4921"
         x="223.4156"
         y="-125.07912">director/targets.json</tspan></text>
    <path
       sodipodi:nodetypes="cc"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5833)"
       d="m 209.22316,126.86028 c 12.88488,9.75953 18.7117,22.13315 21.36825,35.68095"
       id="path5178"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5763)"
       d="m 154,122.99995 41.68222,42.47146"
       id="path5180"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker6177)"
       d="m 265.69206,169.3952 c 0.80635,0 26.00476,-0.20159 26.00476,-0.20159"
       id="path6167"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker6265)"
       d="m 266.90159,174.43488 24.79523,11.49048"
       id="path6169"
       inkscape:connector-curvature="0" />
    <text
       sodipodi:linespacing="125%"
       id="text7415"
       y="206.62723"
       x="294.2103"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       xml:space="preserve"><tspan
         y="206.62723"
         x="294.2103"
         id="tspan7417"
         sodipodi:role="line">Aktualizr-OSTree-Installer</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path7425"
       d="m 267.75685,180.70681 21.0891,22.03871"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker7427)"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="150"
       y="90.999947"
       id="text9509"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan9511"
         x="150"
         y="90.999947">old+new version</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="154"
       y="100.99995"
       id="text9513"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan9515"
         x="154"
         y="100.99995">delta</tspan></text>
    <text
       sodipodi:linespacing="125%"
       id="text9521"
       y="110.99995"
       x="160"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="110.99995"
         x="160"
         id="tspan9523"
         sodipodi:role="line">ECU Delta</tspan><tspan
         y="114.52773"
         x="160"
         sodipodi:role="line"
         id="tspan5163">TBC</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot9525"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,-69.30671,-17.25169)"><flowRegion
         id="flowRegion9527"><rect
           id="rect9529"
           width="293.95438"
           height="211.04414"
           x="1117.2288"
           y="805.88495"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara9545">Installer API</flowPara><flowPara
         id="flowPara9533"> - Return a signed manifest fragment of the current (or next?) boot</flowPara><flowPara
         id="flowPara5144"> - Set next boot to X</flowPara><flowPara
         id="flowPara9535"> - List next boot options (0..n hashes)</flowPara><flowPara
         id="flowPara9537"> - Start consuming delta stream</flowPara><flowPara
         id="flowPara9541"> - Finish consuming delta stream (returns hash of unpacked data)</flowPara><flowPara
         id="flowPara4843"> - Abort consuming delta stream (e.g. network error or checksum failure)</flowPara><flowPara
         id="flowPara9549" /><flowPara
         id="flowPara9551">(Installer instances know how to address the ECU they target)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot4280"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,-35.46057,11.129519)"><flowRegion
         id="flowRegion4282"><rect
           id="rect4284"
           width="350.30026"
           height="329.72958"
           x="869.74133"
           y="39.179176"
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start" /></flowRegion><flowPara
         id="flowPara4338">{</flowPara><flowPara
         id="flowPara4717">   &quot;signatures&quot; : [</flowPara><flowPara
         id="flowPara4719">      {</flowPara><flowPara
         id="flowPara4721">         &quot;method&quot; : &quot;rsassa-pss&quot;,</flowPara><flowPara
         id="flowPara4723">         &quot;keyid&quot; : &quot;4bce27...7d2e9aec4b&quot;,</flowPara><flowPara
         id="flowPara4725">         &quot;sig&quot; : &quot;e7y9Ii...KbA==&quot;</flowPara><flowPara
         id="flowPara4727">      }</flowPara><flowPara
         id="flowPara4729">   ],</flowPara><flowPara
         id="flowPara4731">   &quot;signed&quot; : {</flowPara><flowPara
         id="flowPara4733">      &quot;version&quot; : 21,</flowPara><flowPara
         id="flowPara4735">      &quot;targets&quot; : {</flowPara><flowPara
         id="flowPara4737">         &quot;bosch/ota-qemux86-64-1cf2d8f310...b81647356adcd544&quot; : {</flowPara><flowPara
         id="flowPara4739">            &quot;hashes&quot; : {</flowPara><flowPara
         id="flowPara4741">               &quot;sha256&quot; : &quot;1cf2d8f310...b81647356adcd544&quot;</flowPara><flowPara
         id="flowPara4743">            },</flowPara><flowPara
         id="flowPara4745">            &quot;length&quot; : 0,</flowPara><flowPara
         id="flowPara4747">            &quot;custom&quot; : {</flowPara><flowPara
         id="flowPara4751">               &quot;hardwareIdentifier&quot; : &quot;beaglebone&quot;,</flowPara><flowPara
         id="flowPara5209">                &quot;releaseCounter&quot; : 7,</flowPara><flowPara
         id="flowPara4753">            }</flowPara><flowPara
         id="flowPara4755">         }</flowPara><flowPara
         id="flowPara4757">      },</flowPara><flowPara
         id="flowPara4759">      &quot;expires&quot; : &quot;2017-05-29T12:51:33Z&quot;,</flowPara><flowPara
         id="flowPara4761">      &quot;_type&quot; : &quot;Targets&quot;</flowPara><flowPara
         id="flowPara4763">   }</flowPara><flowPara
         id="flowPara4765">}</flowPara><flowPara
         id="flowPara4767" /></flowRoot>    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       x="210"
       y="20.999945"
       id="text4769"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4771"
         x="210"
         y="20.999945">image 21.targets.json</tspan></text>
    <flowRoot
       transform="matrix(0.28222222,0,0,0.28222222,64.539431,11.129519)"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       id="flowRoot4773"
       xml:space="preserve"><flowRegion
         id="flowRegion4775"><rect
           style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;writing-mode:lr-tb;text-anchor:start"
           y="39.179176"
           x="869.74133"
           height="470.59796"
           width="347.24496"
           id="rect4777" /></flowRegion><flowPara
         id="flowPara4779">{</flowPara><flowPara
         id="flowPara4781">   &quot;signatures&quot; : [</flowPara><flowPara
         id="flowPara4783">      {</flowPara><flowPara
         id="flowPara4785">         &quot;method&quot; : &quot;rsassa-pss&quot;,</flowPara><flowPara
         id="flowPara4787">         &quot;keyid&quot; : &quot;abcd...1235ac&quot;,</flowPara><flowPara
         id="flowPara4789">         &quot;sig&quot; : &quot;x8y9Ii...Abc&quot;</flowPara><flowPara
         id="flowPara4791">      },</flowPara><flowPara
         id="flowPara4417">   &quot;signatures&quot; : [</flowPara><flowPara
         id="flowPara4427">      {</flowPara><flowPara
         id="flowPara4429">         &quot;method&quot; : &quot;hmac&quot;,</flowPara><flowPara
         id="flowPara4431">         &quot;keyid&quot; : &quot;ecu1234key&quot;,</flowPara><flowPara
         id="flowPara4433">         &quot;sig&quot; : &quot;y3f3ea...Def&quot;</flowPara><flowPara
         id="flowPara4437">      }</flowPara><flowPara
         id="flowPara4793">   ],</flowPara><flowPara
         id="flowPara4795">   &quot;signed&quot; : {</flowPara><flowPara
         id="flowPara4797">      &quot;version&quot; : 99,</flowPara><flowPara
         id="flowPara4799">      &quot;targets&quot; : {</flowPara><flowPara
         id="flowPara4801">         &quot;bosch/ota-qemux86-64-1cf2d8f310...d544&quot; : {</flowPara><flowPara
         id="flowPara4803">            &quot;hashes&quot; : {</flowPara><flowPara
         id="flowPara4805">               &quot;sha256&quot; : &quot;1cf2d8f310...d544&quot;</flowPara><flowPara
         id="flowPara4807">            },</flowPara><flowPara
         id="flowPara4809">            &quot;length&quot; : 0,</flowPara><flowPara
         id="flowPara4811">            &quot;custom&quot; : {</flowPara><flowPara
         id="flowPara4859">                &quot;hardwareIdentifier&quot; : &quot;beaglebone&quot;</flowPara><flowPara
         id="flowPara4815">                &quot;ecuIdentifier&quot; : &quot;CA:FE:E1:51:61:07&quot;, </flowPara><flowPara
         id="flowPara4837">                &quot;deltaHash&quot; : {</flowPara><flowPara
         id="flowPara4839">                   &quot;merkle-sha256&quot; : &quot;4cf56...df3a&quot;,</flowPara><flowPara
         id="flowPara5142">                   &quot;url&quot; : &quot;https://...&quot; // TBC???</flowPara><flowPara
         id="flowPara4841">                },</flowPara><flowPara
         id="flowPara4724">                &quot;logicalPartition&quot; : &quot;maps&quot;,</flowPara><flowPara
         id="flowPara4817">            }</flowPara><flowPara
         id="flowPara4819">         }</flowPara><flowPara
         id="flowPara4821">      },</flowPara><flowPara
         id="flowPara4823">      &quot;expires&quot; : &quot;2017-05-29T12:51:33Z&quot;,</flowPara><flowPara
         id="flowPara4825">      &quot;_type&quot; : &quot;Targets&quot;</flowPara><flowPara
         id="flowPara4827">   }</flowPara><flowPara
         id="flowPara4829">}</flowPara><flowPara
         id="flowPara4831" /></flowRoot>    <text
       sodipodi:linespacing="125%"
       id="text4833"
       y="20.999945"
       x="310"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       xml:space="preserve"><tspan
         y="20.999945"
         x="310"
         id="tspan4835"
         sodipodi:role="line">director 99.targets.json</tspan></text>
    <text
       sodipodi:linespacing="125%"
       id="text4849"
       y="270.99994"
       x="366"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="270.99994"
         x="366"
         id="tspan4851"
         sodipodi:role="line">UPTANE Client Overview</tspan><tspan
         y="274.52771"
         x="366"
         sodipodi:role="line"
         id="tspan4855">Phil Wise 2016-05-24</tspan></text>
    <rect
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.28200001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       id="rect4857"
       width="35.999992"
       height="9.9999866"
       x="364"
       y="266.99994" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="384"
       y="86.999947"
       id="text4865"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4867"
         x="384"
         y="86.999947" /></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4869"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="translate(-13.329576,38.712118)"><flowRegion
         id="flowRegion4871"><rect
           id="rect4873"
           width="29.866232"
           height="32.427631"
           x="381.99973"
           y="74.18689" /></flowRegion><flowPara
         id="flowPara4875">ecuIdentifier may need to be a list, see PRO-3117</flowPara></flowRoot>    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5139)"
       d="m 376.67042,113.71267 -8,-4"
       id="path4877"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot5146"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,-9.0788106,-0.01065135)"><flowRegion
         id="flowRegion5148"><rect
           id="rect5150"
           width="258.38177"
           height="194.18217"
           x="103.03556"
           y="503.84933" /></flowRegion><flowPara
         id="flowPara5152">The image targets.json needs to be signed on the developers machine, but must contain a complete set of all possible images that can be deployed. When we have delegation support there may be some amount of federation, but the uploading machine will always have to sign every currently valid firmware version.</flowPara><flowPara
         id="flowPara5154" /><flowPara
         id="flowPara5156">The signing tool will need to keep the process of adding a new update to targets.json simple while avoiding accidently adding the developer's signature to a malicious targets.json.  This will require keeping a local copy of the targets.json and adding newly built images to it.  It may also require a way to merge in the hashes of images that were built on other machines, and incrementing the release counter on every build</flowPara></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="139.40779"
       y="171.84653"
       id="text5158"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5160"
         x="139.40779"
         y="171.84653" /></text>
    <text
       sodipodi:linespacing="125%"
       id="text5165"
       y="100.99995"
       x="176"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="100.99995"
         x="176"
         id="tspan5167"
         sodipodi:role="line">bsdiff/Bosch/ostree</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="342"
       y="222.99994"
       id="text5169"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="342"
         y="222.99994"
         id="tspan5173">TODO</tspan><tspan
         sodipodi:role="line"
         x="342"
         y="226.52771"
         id="tspan5177">Partial/Full verification on secondary ECUs</tspan><tspan
         sodipodi:role="line"
         x="342"
         y="230.0555"
         id="tspan5231">Straming director/targets.json to partial</tspan><tspan
         sodipodi:role="line"
         x="342"
         y="233.58327"
         id="tspan5233">verification ECU.</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot5179"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,-13.999794,-2.8130244)"><flowRegion
         id="flowRegion5181"><rect
           id="rect5183"
           width="205.51108"
           height="123.35306"
           x="559.84253"
           y="166.53542" /></flowRegion><flowPara
         id="flowPara5185">Filename</flowPara><flowPara
         id="flowPara5187"> - Unique over everything in image/targets.json, maybe over all time</flowPara><flowPara
         id="flowPara5191"> - Prefixes are used for delegation</flowPara><flowPara
         id="flowPara5193"> - Remembered by ECUs when reporting manifest</flowPara><flowPara
         id="flowPara5195"> - Prefixed with https://.../ to form a download URL</flowPara></flowRoot>    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5201)"
       d="m 190,56.999944 25.52615,5.230446"
       id="path5199"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="238.33315"
       y="55.103203"
       id="text5205"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5207"
         x="238.33315"
         y="55.103203" /></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="275.56985"
       y="86.542801"
       id="text5213"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan5215"
         x="275.56985"
         y="86.542801" /></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot5217"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><flowRegion
         id="flowRegion5219"><rect
           id="rect5221"
           width="34.471428"
           height="25.198412"
           x="278.10104"
           y="84.987404" /></flowRegion><flowPara
         id="flowPara5223">Checked against aktualizr config option. The default is the MACHINE from Yocto.</flowPara></flowRoot>    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker5227)"
       d="M 277.67393,86.447163 267.50635,83.720577"
       id="path5225"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#999999;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;"
       x="124"
       y="144.99995"
       id="text4682"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4684"
         x="124"
         y="144.99995">Time Server</tspan></text>
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4686"
       d="m 152,144.99995 44,28"
       style="fill:#999999;fill-rule:evenodd;stroke:#999999;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker4688)" />
    <text
       sodipodi:linespacing="125%"
       id="text4692"
       y="162.99995"
       x="430"
       style="color:#000000;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Bold';text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#999999;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       xml:space="preserve"><tspan
         y="162.99995"
         x="430"
         id="tspan4694"
         sodipodi:role="line">40% Grey</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4715"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,-9.9997888,-6.8129762)"><flowRegion
         id="flowRegion4717"><rect
           id="rect4719"
           width="219.68504"
           height="92.125984"
           x="744.09448"
           y="924.80316" /></flowRegion><flowPara
         id="flowPara4722">For demos, the primary and secondaries require a config option to ignore the check that the images/target.json version goes forward.</flowPara></flowRoot>    <flowRoot
       transform="translate(-17.329576,56.712125)"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       id="flowRoot4726"
       xml:space="preserve"><flowRegion
         id="flowRegion4728"><rect
           y="74.18689"
           x="381.99973"
           height="38.81366"
           width="38.000275"
           id="rect4730" /></flowRegion><flowPara
         id="flowPara4732">Either: Each ECU may contain multiple independent update domains, e.g. Software, Map Data, Telecoding,</flowPara><flowPara
         id="flowPara4792">Or we treat the other partitions as secondary ECUs, since the ECUManifest currently only reports one target per ecuIdentifier</flowPara></flowRoot>    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4734"
       d="m 364.67042,131.71267 -8,-4"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker4736)" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot4798"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.82222223px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="translate(6.6704235,8.7121254)"><flowRegion
         id="flowRegion4800"><rect
           id="rect4802"
           width="22"
           height="20"
           x="283.99976"
           y="112.187" /></flowRegion><flowPara
         id="flowPara4804">Possibly a path fragment relative to the device gateway</flowPara></flowRoot>    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker4808)"
       d="m 310,122.99995 13.95332,-3.85745"
       id="path4806"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot4419"
       style="fill:black;stroke:none;stroke-opacity:1;stroke-width:1px;stroke-linejoin:miter;stroke-linecap:butt;fill-opacity:1;font-family:'Droid Sans';font-style:normal;font-weight:normal;font-size:10px;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;text-align:start;-inkscape-font-specification:'Droid Sans, Normal';font-stretch:normal;font-variant:normal;writing-mode:lr"><flowRegion
         id="flowRegion4421"><rect
           id="rect4423"
           width="28.346457"
           height="63.779526"
           x="1091.3386"
           y="95.669289" /></flowRegion><flowPara
         id="flowPara4425"></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot4441"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:125%;font-family:'Droid Sans';-inkscape-font-specification:'Droid Sans, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.28222222,0,0,0.28222222,0,-4.9283155e-5)"><flowRegion
         id="flowRegion4443"><rect
           id="rect4445"
           width="134.64566"
           height="77.952759"
           x="1275.5906"
           y="166.53543" /></flowRegion><flowPara
         id="flowPara4447">Some secondary ECUs may not have enough flash for public key crypto, so the manifest may also be signed with a hmac for each ECU.</flowPara><flowPara
         id="flowPara4455">PRO-3150 &amp; PRO-3151</flowPara></flowRoot>    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4449"
       d="m 358,48.999951 -15.41509,6.831182"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.28222221px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker4451)" />
  </g>
</svg>
